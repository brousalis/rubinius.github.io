<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <title>Testing Your Project with Rubinius on Travis - Rubinius</title>
  	<meta charset="UTF-8">
  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta content='en' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    
    
    <link href='/feed/atom.xml' rel='alternate' type='application/atom+xml' title='Rubinius Blog' />
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->

    <link rel="stylesheet" href="/assets/application-41e9626e04e15a1d2b0393f197784d83.css">
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" />

    <link href="/favicon.ico"                 rel="shortcut icon"    type="image/vnd.microsoft.icon" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="72x72"   />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="114x114" />
  </head>

  <body>
    <div class='container'>
  <div class='span-21 blog_menu'>
    <header>
      <nav>
  <ul>
    <li><a href="/">Home</a></li>
    <li><a id="blog" href="/blog">Blog</a></li>
    <li><a id="documentation" href="/doc/en">Documentation</a></li>
    <li><a href="/projects">Projects</a></li>
    <li><a href="/security">Security</a></li>
    <li><a href="/downloads">Downloads</a></li>
  </ul>
</nav>

    </header>
  </div>

  <div class='span-3 last'>
  <div id='version'>
    <a href="http://releases.rubini.us/rubinius-2.2.10.tar.bz2">2.2.10</a>
  </div>
</div>

</div>

<div class="container posts_nav">
  <nav>
    <a href="/blog/posts_index">Index of Posts</a>
    <a id="feed_icon" href="/feed/atom.xml"><img alt="subscribe" src="/images/feed-icon16x16.png" /></a>
  </nav>
</div>

<div class="container blog_posts">
  <h2 class="post_title">Testing Your Project with Rubinius on Travis</h2>
  
  <div class="by_line">
  <p><span class="author">Brian Shirai</span>
    <span class="date">03 December 2013</span>
    
  </p>
</div>

  <p><a href="http://travis-ci.org">Travis CI</a> has been a tremendously useful tool for
automating testing and has provided Ruby implementations with valuable
feedback. However, it can be a trial-and-error process to find the right
incantations for <code>.travis.yml</code> to get your preferred selection of Ruby
implementations running. This post explains how to test your project on
Rubinius.</p>

<p>With the Rubinius 2.0 release, there are no longer language modes. Rubinius is
presently working on compatibility with the upcoming MRI 2.1 release. There
are still compatibility issues to be fixed, primarily keyword syntax and some
core library API changes. What this means for your <code>.travis.yml</code> file is that
‘rbx-18mode’ and ‘rbx-19mode’ are no longer supported. We submitted a patch to
the <a href="https://github.com/travis-ci/travis-lint">Travis lint tool</a> to check for
this, so please use the linter!</p>

<p>So, if those language modes are no longer available, what should you add to
your <code>.travis.yml</code> file? Remember that Rubinius is releasing new versions every
week or so. Together with recent changes to RVM, this gives four options for
how specific you want to be about the Rubinius version you test against. The
following list of Rubinius options is from least-to-most specific:</p>

<ol>
  <li>‘rbx’ - This means the most recent Rubinius release. Every time your tests
run, the most recently released binary will be used.</li>
  <li>‘rbx-X’ - This means the most recent Major release. For example, if you use
‘rbx-2’ (which is the only one available right now), your tests will run on
the most recent 2.Y.Z release, but would not run on 3.Y.Z.</li>
  <li>‘rbx-X.Y’ - This means the most recent Minor release. If you use ‘rbx-2.2’,
your tests will run on the most recent 2.2.Z release, but will not use the
2.3.Z or 2.1.Z release.</li>
  <li>‘rbx-X.Y.Z’ - This means precisely the specified release. So, ‘rbx-2.2.1’
will run only on the 2.1.1 releease and no other release.</li>
</ol>

<p>This method of designating the version of Rubinius you wish to run against
should look similar to specifying versions of gems with the pessimistic
operator (~&gt;). It is intended to give you the same flexibility while allowing
for stability constraints that you choose.</p>

<p>Since each of these designations is independent, you can mix and match them as
you wish. For example, if you know that Rubinius 2.2.1 is green for your
project, you can specify both ‘rbx-2.2.1’ and ‘rbx’. Or you can always stay on
the cutting edge by just using ‘rbx’.</p>

<p>If you need help getting your project set up or updated on Travis, please let
us know. I’ve created a simple project called
<a href="https://travis-ci.org/rubinius/travis-canary">travis-canary</a> that you can
check to see if the ways of specifying Rubinius listed above are currently
working on Travis.</p>

<p>Happy testing!</p>


  <div class="container comments">
<p>Tweet at <a href="https://twitter.com/rubinius">@rubinius</a> on Twitter or
  email <a href="mailto:community@rubini.us">community@rubini.us</a>. Please
  report Rubinius issues to our <a
  href="https://github.com/rubinius/rubinius/issues">issue tracker</a>.</p>
</div>

  <!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup" class="container">
<form action="http://rubini.us7.list-manage.com/subscribe/post?u=72ad4855b528b6af79bd06543&amp;id=db5b4f0e45" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>

  <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Your email address" required>
  <input type="submit" value="Email Me Updates!" name="subscribe" id="mc-embedded-subscribe" class="button">

  <p>We email about once a month and never share
    your email address for any reason</p>
</form>
</div>

<!--End mc_embed_signup-->

    <div class="container">
  <h3>Recent Posts</h3>
  <ul>
  
    
      <li>
        <a href="/2014/01/06/happy-2014.html" title="Happy 2014!" class="post_title"> Happy 2014! </a>
        <span class="author">Brian Shirai</span>
      </li>
    
  
    
  
    
      <li>
        <a href="/2013/10/18/the-parisian-release.html" title="The Parisian Release" class="post_title"> The Parisian Release </a>
        <span class="author">Brian Shirai</span>
      </li>
    
  
    
      <li>
        <a href="/2013/10/15/introducing-rubinius-x.html" title="Introducing Rubinius X" class="post_title"> Introducing Rubinius X </a>
        <span class="author">Brian Shirai</span>
      </li>
    
  
    
      <li>
        <a href="/2013/10/11/the-once-and-future-rubinius.html" title="The Once and Future Rubinius" class="post_title"> The Once and Future Rubinius </a>
        <span class="author">Brian Shirai</span>
      </li>
    
  
  </ul>
  </div>

</div>
<footer>
  <div class='container'>
    <nav>
      <ul>
        <li><a rel="external" href="http://twitter.com/rubinius">Follow Rubinius on Twitter</a></li>
        <li><a rel="external" href="http://github.com/rubinius/rubinius">Fork Rubinius on github</a></li>
      </ul>
    </nav>
  </div>
</footer>

<script>
  var _gaq=[['_setAccount','UA-12328521-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>



    <script src="/javascripts/jquery-1.3.2.js"></script>
    <script src="/javascripts/paging_keys.js"></script>
    
    <script src="/javascripts/application.js"></script>
  </body>
</html>
