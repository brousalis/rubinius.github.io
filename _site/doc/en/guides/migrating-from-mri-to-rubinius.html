<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <title>Guides - Migrating from MRI to Rubinius - Rubinius</title>
  	<meta charset="UTF-8">
  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta content='en' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    <link href='/doc/en/guides' rel='prev' title='Guides'>
    <link href='/doc/en/how-to'         rel='next' title='How-To'>
    
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->

    <link rel="stylesheet" href="/assets/application-41e9626e04e15a1d2b0393f197784d83.css">
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" />

    <link href="/favicon.ico"                 rel="shortcut icon"    type="image/vnd.microsoft.icon" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="72x72"   />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="114x114" />
  </head>

  <body>
    <nav id="sidebar">
  <div class="sidebar-header">
    <a href="#" class="logo">Rubinius</a>
    <div role="search">
      <input type="text" name="q" placeholder="Search docs">
    </div>
  </div>

  <div class="sidebar-nav">
    <ul>
      <li><a href="/doc/en/what-is-rubinius/">What is Rubinius?</a> </li> 
      <li><a href="/doc/en/getting-started/">Getting Started</a>
        <ul>
          <li><a href="/doc/en/getting-started/requirements/">Requirements</a> </li>
          <li><a href="/doc/en/getting-started/building/">Building</a> </li>
          <li><a href="/doc/en/getting-started/running-rubinius/">Running Rubinius</a> </li>
          <li><a href="/doc/en/getting-started/troubleshooting/">Troubleshooting</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/contributing/">Contributing</a>
        <ul>
          <li><a href="/doc/en/contributing/communication/">Communication</a> </li>
          <li><a href="/doc/en/contributing/style-guide">Style Guide</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/ruby/">Ruby</a>
        <ul>
          <li><a href="/doc/en/ruby/scripts/">Scripts</a> </li>
          <li><a href="/doc/en/ruby/methods/">Methods</a> </li>
          <li><a href="/doc/en/ruby/constants/">Constants</a> </li>
          <li><a href="/doc/en/ruby/classes-and-modules/">Classes &amp; Modules</a> </li>
          <li><a href="/doc/en/ruby/blocks-and-procs/">Blocks &amp; Procs</a> </li>
          <li><a href="/doc/en/ruby/local-variables/">Local Variables</a> </li>
          <li><a href="/doc/en/ruby/instance-variables/">Instance Variables</a> </li>
          <li><a href="/doc/en/ruby/class-variables/">Class Variables</a> </li>
          <li><a href="/doc/en/ruby/global-variables/">Global Variables</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/specs/">Specs</a>
        <ul>
          <li><a href="/doc/en/specs/rubyspec/">RubySpec</a> </li> 
          <li><a href="/doc/en/specs/compiler/">Compiler Specs</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/build-system/">Build System</a> </li>
      <li><a href="/doc/en/bootstrapping/">Bootstrapping</a> </li>
      <li><a href="/doc/en/virtual-machine/">Virtual Machine</a> 
        <ul>
          <li><a href="/doc/en/virtual-machine/instructions/">Instructions</a> </li>
          <li><a href="/doc/en/virtual-machine/custom-dispatch-logic/">Custom Dispatch Logic</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/bytecode-compiler/">Bytecode Compiler</a>
        <ul>
          <li><a href="/doc/en/bytecode-compiler/parser/">Parser Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/ast/">AST</a> </li>
          <li><a href="/doc/en/bytecode-compiler/generator/">Generator Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/encoder/">Encoder Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/packager/">Packager Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/writer/">Writer Stage</a> </li>
          <li>Printers</li>
          <li><a href="/doc/en/bytecode-compiler/transformations/">Transformations</a> </li>
          <li><a href="/doc/en/bytecode-compiler/customization/">Customizing the Pipeline</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/jit/">JIT Compiler</a> </li>
      <li><a href="/doc/en/memory-system/">Memory system</a> 
        <ul>
          <li><a href="/doc/en/memory-system/object-layout/">Object layout</a> </li>
          <li><a href="/doc/en/memory-system/garbage-collector/">Garbage collector</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/systems/">Rubinius Systems</a>
        <ul>
          <li><a href="/doc/en/systems/primitives/">Primitives</a> </li>
          <li><a href="/doc/en/systems/ffi/">FFI</a> </li>
          <li><a href="/doc/en/systems/concurrency/">Concurrency</a> </li>
          <li><a href="/doc/en/systems/io/">IO</a> </li>
          <li><a href="/doc/en/systems/c-api/">C-API</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/tools/">Tools</a>
        <ul>
          <li><a href="/doc/en/tools/debugger/">Debugger</a> </li>
          <li><a href="/doc/en/tools/profiler/">Profiler</a> </li>
          <li><a href="/doc/en/tools/memory-analysis/">Memory Analysis</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/guides/">Guides</a>
        <ul>
          <li><a href="/doc/en/guides/migrating-from-mri-to-rubinius/">Migrating from MRI to Rubinius</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/how-to/">How-To</a>
        <ul>
          <li><a href="/doc/en/how-to/write-a-ticket/">Write a Ticket</a> </li>
          <li><a href="/doc/en/how-to/write-a-ruby-spec/">Write a Ruby Spec</a> </li>
          <li><a href="/doc/en/how-to/fix-a-failing-spec/">Fix a Failing Spec</a> </li>
          <li><a href="/doc/en/how-to/write-benchmarks/">Write Benchmarks</a> </li>
          <li><a href="/doc/en/how-to/write-a-blog-post/">Write a Blog Post</a> </li>
          <li><a href="/doc/en/how-to/write-documentation/">Write Documentation</a> </li>
          <li><a href="/doc/en/how-to/translate-documentation/">Translate Documentation</a> </li>
          <li><a href="/doc/en/how-to/commit-to-github/">Commit to Github</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/appendix-a-glossary/">Appendix A - Glossary</a> </li>
      <li><a href="/doc/en/appendix-b-reading-list/">Appendix B - Reading List</a> </li>
      <li><a href="/doc/en/index-of-terms/">Index of Terms</a> </li>
      <li><a href="/doc/en/frequently-asked-questions/">Frequently Asked Questions</a> </li>
    </ul>
  </div>

  <div class="sidebar-footer">
    <ul>
  
  
  
  <li><a href="/doc/de/guides/migrating-from-mri-to-rubinius.html"
    
    >de</a></li>
  
  
  
  <li><a href="/doc/en/guides/migrating-from-mri-to-rubinius.html"
    
    class="current"
    
    >en</a></li>
  
  
  
  <li><a href="/doc/es/guides/migrating-from-mri-to-rubinius.html"
    
    >es</a></li>
  
  
  
  <li><a href="/doc/fr/guides/migrating-from-mri-to-rubinius.html"
    
    >fr</a></li>
  
  
  
  <li><a href="/doc/it/guides/migrating-from-mri-to-rubinius.html"
    
    >it</a></li>
  
  
  
  <li><a href="/doc/ja/guides/migrating-from-mri-to-rubinius.html"
    
    >ja</a></li>
  
  
  
  <li><a href="/doc/pl/guides/migrating-from-mri-to-rubinius.html"
    
    >pl</a></li>
  
  
  
  <li><a href="/doc/pt-br/guides/migrating-from-mri-to-rubinius.html"
    
    >pt-br</a></li>
  
  
  
  <li><a href="/doc/ru/guides/migrating-from-mri-to-rubinius.html"
    
    >ru</a></li>
  
</ul>

    <div class="social">
      <div class="icons">
        <a href="http://twitter.com/rubinius" class="twitter">@rubinius</a>
        <a href="http://github.com/rubinius" class="github">github</a>
      </div>
      <div class="version">
        <a href="https://github.com/rubinius/rubinius/releases/tag/v2.2.10">v2.2.10</a>
      </div>
    </div>
  </div>
</nav>


<div class="container documentation">
  <h2>Guides - Migrating from MRI to Rubinius</h2>

  

  

    <p>This guide will assist you to migrate your Ruby or Rails application from MRI
(Matz’s Ruby Implementation) to Rubinius. This guide assumes that you are
familiar with Ruby or Ruby or Rails, RubyGems, and Bundler. It also assumes
that you can use the command line shell.</p>

<h2 id="installing-rubinius">1. Installing Rubinius</h2>

<p>The first step in migrating to Rubinius is to install Rubinius. Since you will
likely need to switch back and forth between MRI and Rubinius while migrating,
the easiest approach is to use a Ruby switcher utility.</p>

<p>The <a href="https://github.com/postmodern/chruby">chruby</a> command line tool for
switching between Ruby implementations is recommended for use with Rubinius.
All examples in the guides will use <code>chruby</code>.</p>

<h3 id="installing-chruby-and-ruby-install">Installing chruby and ruby-install</h3>

<p>If you are using OS X, the easiest way to install <code>chruby</code> and <code>ruby-install</code>
is to use the <a href="https://github.com/Homebrew/homebrew">Homebrew</a> package manager
as follows:</p>

<pre><code>$ brew update
$ brew install chruby ruby-install
</code></pre>

<p>If you are not using Homebrew or are using a different operating system than OS
X, please see the the following:</p>

<ol>
  <li><a href="https://github.com/postmodern/chruby#install">chruby install instructions</a></li>
  <li><a href="https://github.com/postmodern/ruby-install#install">ruby-install install instructions</a></li>
</ol>

<h3 id="enabling-chruby">Enabling chruby</h3>

<p>To enable <code>chruby</code>, add the following to the ~/.bashrc or ~/.zshrc file:</p>

<pre><code>source /usr/local/opt/chruby/share/chruby/chruby.sh
</code></pre>

<p>See the documentation for more <a href="https://github.com/postmodern/chruby#configuration">configuration
instructions</a>.</p>

<h3 id="using-ruby-install">Using ruby-install</h3>

<p>Once you have installed the <code>ruby-install</code> utility, installing Rubinius is
straightforward:</p>

<pre><code>$ ruby-install rbx 2.2.6
</code></pre>

<p>For instructions for installing other Ruby implementations, please see the
<code>ruby-install</code> <a href="https://github.com/postmodern/ruby-install#synopsis">installation
synopsis</a>.</p>

<h3 id="using-chruby">Using chruby</h3>

<p>Now that Rubinius is installed, you can make it active with the following
command:</p>

<pre><code>$ chruby rbx
</code></pre>

<h2 id="gems">2. Gems</h2>

<p>Most gems that run on MRI should run on Rubinius, with the exceptions noted
below. Additionally, Rubinius makes many components of the system available as
gems. These include the Rubinius tools for parsing and compiling Ruby code, the
Ruby debugger and profiler, and the Ruby standard library. All these gems are
pre-installed when you install Rubinius.</p>

<h3 id="c-extension-gems">C-extension Gems</h3>

<p>Many gems that use C-extensions run fine on Rubinius. The exceptions are ones
that rely on MRI internal data structures. These gems cannot be supported on
Rubinius and include gems like <code>ruby-debug</code> and <code>ruby-prof</code>. Rubinius provides
its own Ruby source debugger and profiler, as well as other tools. See the
<a href="http://rubini.us/doc/en/tools/">tools documentation</a> for more details.</p>

<h2 id="gemfiles">3. Gemfiles</h2>

<p>Your Gemfile should work fine with Rubinius but you should run <code>bundle update</code>
to force the gem dependencies to be recomputed for Rubinius. Also, if you are
using gems that are incompatible with Rubinius, you can put them in a
<code>platforms</code> block until completing the migration to Rubinius as follows:</p>

<pre><code># Example platforms block for MRI-specific gems
platforms :mri do
  gem 'ruby-prof'
  gem 'ruby-debug'
end
</code></pre>

<h2 id="compatibility-issues">4. Compatibility Issues</h2>

<p>Rubinius created the <a href="http://rubyspec.org">RubySpec</a> project, and continually
enhances it, to describe the behavior of Ruby and monitor compatibility with
MRI.</p>

<p>With few exceptions, Rubinius is expected to be compatible with MRI 2.1.  Some
features, like keyword arguments, are not yet implemented. Other features may
not be implemented because they are unknown and no RubySpecs exist for the
feature yet. Several standard library components, including Continuation,
Ripper, TracePoint, and Tracer, are not yet implemented but may be in the
future.</p>

<p>If you encounter an incompatible behavior in Rubinius compared to MRI, it’s
most likely a bug. Please
<a href="https://github.com/rubinius/rubinius/issues">open an issue</a> for it.</p>


</div>


    <script src="/javascripts/jquery-1.3.2.js"></script>
    <script src="/javascripts/paging_keys.js"></script>
    
    <script src="/javascripts/application.js"></script>
  </body>
</html>
