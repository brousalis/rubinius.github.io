<!DOCTYPE html>
<html dir="ltr" lang="ru">
  <head>
    <title>How-To - Создание тикета - Rubinius</title>
  	<meta charset="UTF-8">
  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta content='ru' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    <link href='/doc/ru/how-to' rel='prev' title='How-To'>
    <link href='/doc/ru/how-to/write-a-ruby-spec'         rel='next' title='Написание Ruby спецификации'>
    
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->

    <link rel="stylesheet" href="/assets/application-41e9626e04e15a1d2b0393f197784d83.css">
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" />

    <link href="/favicon.ico"                 rel="shortcut icon"    type="image/vnd.microsoft.icon" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="72x72"   />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="114x114" />
  </head>

  <body>
    <nav id="sidebar">
  <div class="sidebar-header">
    <a href="#" class="logo">Rubinius</a>
    <div role="search">
      <input type="text" name="q" placeholder="Search docs">
    </div>
  </div>

  <div class="sidebar-nav">
    <ul>
      <li><a href="/doc/en/what-is-rubinius/">What is Rubinius?</a> </li> 
      <li><a href="/doc/en/getting-started/">Getting Started</a>
        <ul>
          <li><a href="/doc/en/getting-started/requirements/">Requirements</a> </li>
          <li><a href="/doc/en/getting-started/building/">Building</a> </li>
          <li><a href="/doc/en/getting-started/running-rubinius/">Running Rubinius</a> </li>
          <li><a href="/doc/en/getting-started/troubleshooting/">Troubleshooting</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/contributing/">Contributing</a>
        <ul>
          <li><a href="/doc/en/contributing/communication/">Communication</a> </li>
          <li><a href="/doc/en/contributing/style-guide">Style Guide</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/ruby/">Ruby</a>
        <ul>
          <li><a href="/doc/en/ruby/scripts/">Scripts</a> </li>
          <li><a href="/doc/en/ruby/methods/">Methods</a> </li>
          <li><a href="/doc/en/ruby/constants/">Constants</a> </li>
          <li><a href="/doc/en/ruby/classes-and-modules/">Classes &amp; Modules</a> </li>
          <li><a href="/doc/en/ruby/blocks-and-procs/">Blocks &amp; Procs</a> </li>
          <li><a href="/doc/en/ruby/local-variables/">Local Variables</a> </li>
          <li><a href="/doc/en/ruby/instance-variables/">Instance Variables</a> </li>
          <li><a href="/doc/en/ruby/class-variables/">Class Variables</a> </li>
          <li><a href="/doc/en/ruby/global-variables/">Global Variables</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/specs/">Specs</a>
        <ul>
          <li><a href="/doc/en/specs/rubyspec/">RubySpec</a> </li> 
          <li><a href="/doc/en/specs/compiler/">Compiler Specs</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/build-system/">Build System</a> </li>
      <li><a href="/doc/en/bootstrapping/">Bootstrapping</a> </li>
      <li><a href="/doc/en/virtual-machine/">Virtual Machine</a> 
        <ul>
          <li><a href="/doc/en/virtual-machine/instructions/">Instructions</a> </li>
          <li><a href="/doc/en/virtual-machine/custom-dispatch-logic/">Custom Dispatch Logic</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/bytecode-compiler/">Bytecode Compiler</a>
        <ul>
          <li><a href="/doc/en/bytecode-compiler/parser/">Parser Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/ast/">AST</a> </li>
          <li><a href="/doc/en/bytecode-compiler/generator/">Generator Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/encoder/">Encoder Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/packager/">Packager Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/writer/">Writer Stage</a> </li>
          <li>Printers</li>
          <li><a href="/doc/en/bytecode-compiler/transformations/">Transformations</a> </li>
          <li><a href="/doc/en/bytecode-compiler/customization/">Customizing the Pipeline</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/jit/">JIT Compiler</a> </li>
      <li><a href="/doc/en/memory-system/">Memory system</a> 
        <ul>
          <li><a href="/doc/en/memory-system/object-layout/">Object layout</a> </li>
          <li><a href="/doc/en/memory-system/garbage-collector/">Garbage collector</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/systems/">Rubinius Systems</a>
        <ul>
          <li><a href="/doc/en/systems/primitives/">Primitives</a> </li>
          <li><a href="/doc/en/systems/ffi/">FFI</a> </li>
          <li><a href="/doc/en/systems/concurrency/">Concurrency</a> </li>
          <li><a href="/doc/en/systems/io/">IO</a> </li>
          <li><a href="/doc/en/systems/c-api/">C-API</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/tools/">Tools</a>
        <ul>
          <li><a href="/doc/en/tools/debugger/">Debugger</a> </li>
          <li><a href="/doc/en/tools/profiler/">Profiler</a> </li>
          <li><a href="/doc/en/tools/memory-analysis/">Memory Analysis</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/guides/">Guides</a>
        <ul>
          <li><a href="/doc/en/guides/migrating-from-mri-to-rubinius/">Migrating from MRI to Rubinius</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/how-to/">How-To</a>
        <ul>
          <li><a href="/doc/en/how-to/write-a-ticket/">Write a Ticket</a> </li>
          <li><a href="/doc/en/how-to/write-a-ruby-spec/">Write a Ruby Spec</a> </li>
          <li><a href="/doc/en/how-to/fix-a-failing-spec/">Fix a Failing Spec</a> </li>
          <li><a href="/doc/en/how-to/write-benchmarks/">Write Benchmarks</a> </li>
          <li><a href="/doc/en/how-to/write-a-blog-post/">Write a Blog Post</a> </li>
          <li><a href="/doc/en/how-to/write-documentation/">Write Documentation</a> </li>
          <li><a href="/doc/en/how-to/translate-documentation/">Translate Documentation</a> </li>
          <li><a href="/doc/en/how-to/commit-to-github/">Commit to Github</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/appendix-a-glossary/">Appendix A - Glossary</a> </li>
      <li><a href="/doc/en/appendix-b-reading-list/">Appendix B - Reading List</a> </li>
      <li><a href="/doc/en/index-of-terms/">Index of Terms</a> </li>
      <li><a href="/doc/en/frequently-asked-questions/">Frequently Asked Questions</a> </li>
    </ul>
  </div>

  <div class="sidebar-footer">
    <ul>
  
  
  
  <li><a href="/doc/de/how-to/write-a-ticket.html"
    
    >de</a></li>
  
  
  
  <li><a href="/doc/en/how-to/write-a-ticket.html"
    
    >en</a></li>
  
  
  
  <li><a href="/doc/es/how-to/write-a-ticket.html"
    
    >es</a></li>
  
  
  
  <li><a href="/doc/fr/how-to/write-a-ticket.html"
    
    >fr</a></li>
  
  
  
  <li><a href="/doc/it/how-to/write-a-ticket.html"
    
    >it</a></li>
  
  
  
  <li><a href="/doc/ja/how-to/write-a-ticket.html"
    
    >ja</a></li>
  
  
  
  <li><a href="/doc/pl/how-to/write-a-ticket.html"
    
    >pl</a></li>
  
  
  
  <li><a href="/doc/pt-br/how-to/write-a-ticket.html"
    
    >pt-br</a></li>
  
  
  
  <li><a href="/doc/ru/how-to/write-a-ticket.html"
    
    class="current"
    
    >ru</a></li>
  
</ul>

    <div class="social">
      <div class="icons">
        <a href="http://twitter.com/rubinius" class="twitter">@rubinius</a>
        <a href="http://github.com/rubinius" class="github">github</a>
      </div>
      <div class="version">
        <a href="https://github.com/rubinius/rubinius/releases/tag/v2.2.10">v2.2.10</a>
      </div>
    </div>
  </div>
</nav>


<div class="container documentation">
  <h2>How-To - Создание тикета</h2>

  

  

    <p>Трекер Rubinius-а расположен по адресу
<a href="https://github.com/rubinius/rubinius/issues">https://github.com/rubinius/rubinius/issues</a>.</p>

<p>Тикеты должны быть краткими, предметными и осуществимыми. В противном случае
тикет будет подолгу весеть в трекере и мешаться. Поэтому тикеты должны
соответствовать одной или нескольким следующим категориям:</p>

<ol>
  <li>Конкретная строка из терминала, с помощью которой можно установить и
вызвать программу, а также стектрейс исключения.</li>
  <li>Небольшой кусок кода иллюстрирующий проблему, а также командная строка
для его вызова.</li>
  <li>Патч, <strong>вместе со спецификацией, если ее еще нет</strong>, а также результат
выполнения спецификации до и после патча.</li>
</ol>

<p>Если ваш задача не подпадает ни в одну из категорий, это не означает что она
некорректна. Это просто означает, что она не подходит для тикета.</p>

<ol>
  <li>Если вы хотите добавить новую функциональность, попробуйте обсудить это
в мейллисте. Также вы можете попытаться реализовать ее и показать насколько
она полезна.</li>
  <li>Если у вас есть библиотека или гем, которые не работают, попробуйте
разобраться почему и попытайтесь сделать более маленький кусок кода,
воспроизводящий проблему и создайте тикет вместе с ним.</li>
</ol>

<h2 id="section">Общая процедура добавления тикета</h2>

<ol>
  <li>
    <p>Проверьте несколько раз.</p>

    <ol>
      <li>Полностью пересоберите Rubinius (‘rake clean; rake’) после ‘git pull’
или нового git clone.</li>
      <li>Прочтите <a href="/doc/ru/getting-started/troubleshooting">Разрешение проблем</a>,
возможно это поможет решить вашу проблему.</li>
      <li>Прочтите <a href="/doc/ru/specs/">Спецификации</a>.</li>
    </ol>
  </li>
  <li>
    <p>Дайте вашему тикету конкретный, желательно короткий заголовок.</p>
  </li>
  <li>
    <p>Снабдите тикет соответствующими тегами.</p>
  </li>
  <li>
    <p>Добавьте в тикет достаточно информации:</p>

    <ul>
      <li>Команду в терминале, с помощью которой можно вызвать программу</li>
      <li>Стектрейс или результат программы вместе с ожидаемым результатом.</li>
      <li>Информацию о вашей машине. <code>uname -a</code> обычно достаточно (если в ней
присутствуют “unknown” поля, пожалуйста, дополните их.)</li>
    </ul>
  </li>
</ol>

<h2 id="section-1">Дополнительные указания для тикетов с патчами</h2>

<ul>
  <li>Тикеты могут состоять просто из набора спецификаций.</li>
  <li>Патчи должны быть снабжены спецификациями в случае их отсутствия.</li>
  <li>Релевантную часть вывода спецификации и точный вывод ‘bin/mspec’,
вызванной с существующей или добавленной спецификацией <em>перед
исправлением</em>.</li>
  <li>Вывод спецификации и вывод ‘bin/mspec’ показывающий успех <em>после</em>
исправления.</li>
  <li>Дополнительное описание вашего патча и того, как он исправляет проблему.
В частности, что касается новой функциональности, пожалуйста, указывайте
обсуждалось ли это уже на #rubinius или ruby-dev.</li>
</ul>

<p>Если возможно, пожалуйста, используйте ‘git-format-path’ для создания набора
патчей. Это и упрощает применение патча и сохраняет его атрибуты. В противном
случае используйте унифицированный diff.</p>

<h2 id="section-2">Пример отправки патча</h2>

<p>Предположим следующая спецификация существует и не работает:</p>

<pre><code>describe "Kernel.format" do
  it "is accessible as a module function" do
    Kernel.format("%s", "hello").should == "hello"
  end
end
</code></pre>

<ol>
  <li>
    <p>Заголовок тикета:</p>

    <p>“[PATCH] No method ‘format’ on Kernel (Module)”</p>
  </li>
  <li>
    <p>Теги:</p>

    <p>“patch core spec”</p>
  </li>
  <li>
    <p>Текст в тикете:</p>

    <p>The method ‘format’ is not available as a module function of Kernel.</p>

    <pre><code>$ bin/mspec spec/ruby/core/kernel/format_spec.rb
Started
.E

1)
Kernel.format is accessible as a module function ERROR
No method 'format' on Kernel (Module):
</code></pre>

    <p>The method ‘format’ already exists but has not been set as a module
function.  This patch does so.</p>

    <p>After the patch is applied:</p>

    <pre><code>$ bin/mspec spec/ruby/core/kernel/format_spec.rb
Started
..

Finished in 0.016031 seconds

2 examples, 2 expectations, 0 failures, 0 errors
</code></pre>
  </li>
  <li>
    <p>Приложение:</p>
  </li>
</ol>

<p>Наконец, поместите ваш патч в gist и добавьте ссылку на него в тикет.
Ниже приведен патч для целостности картины:</p>

<pre><code>From c61cecce6442347ebbdf1ded7a5c0832c97582c1 Mon Sep 17 00:00:00 2001
From: Brian Ford &lt;bford@engineyard.com&gt;
Date: Sat, 19 Jan 2008 17:48:19 -0800
Subject: [PATCH] Set Kernel#format as a module function.


diff --git a/kernel/core/kernel.rb b/kernel/core/kernel.rb
index 2d2e508..f2a382e 100644
--- a/kernel/core/kernel.rb
+++ b/kernel/core/kernel.rb
@@ -150,6 +150,7 @@ module Kernel
   end
   alias_method :format, :sprintf
   module_function :sprintf
+  module_function :format
   module_function :abort

   def puts(*a)
</code></pre>



</div>


    <script src="/javascripts/jquery-1.3.2.js"></script>
    <script src="/javascripts/paging_keys.js"></script>
    
    <script src="/javascripts/application.js"></script>
  </body>
</html>
