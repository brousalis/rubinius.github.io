<!DOCTYPE html>
<html dir="ltr" lang="es">
  <head>
    <title>Bootstrapping - Rubinius</title>
  	<meta charset="UTF-8">
  	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <meta content='es' http-equiv='content-language'>
    <meta content='Rubinius is an implementation of the Ruby programming language. The Rubinius bytecode virtual machine is written in C++. The bytecode compiler is written in pure Ruby. The vast majority of the core library is also written in Ruby, with some supporting primitives that interact with the VM directly.' name='description'>
    <link href='/' rel='home'>
    <link href='/' rel='start'>
    <link href='/doc/es/build-system' rel='prev' title='Sistema de Construcción'>
    <link href='/doc/es/virtual-machine'         rel='next' title='La Máquina Virtual'>
    
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script><![endif]-->

    <link href="/stylesheets/application.css" media="screen" rel="stylesheet" />
    <link href="/stylesheets/pygments.css" media="screen" rel="stylesheet" />

    <link href="/favicon.ico"                 rel="shortcut icon"    type="image/vnd.microsoft.icon" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="72x72"   />
    <link href="/images/apple-touch-icon.png" rel="apple-touch-icon" type="image/png" sizes="114x114" />
  </head>

  <body>
    <nav id="sidebar">
  <div class="sidebar-header">
    <a href="#" class="logo">Rubinius</a>
    <div role="search">
      <input type="text" name="q" placeholder="Search docs">
    </div>
  </div>

  <div class="sidebar-nav">
    <ul>
      <li><a href="/doc/en/what-is-rubinius/">What is Rubinius?</a> </li> 
      <li><a href="/doc/en/getting-started/">Getting Started</a>
        <ul>
          <li><a href="/doc/en/getting-started/requirements/">Requirements</a> </li>
          <li><a href="/doc/en/getting-started/building/">Building</a> </li>
          <li><a href="/doc/en/getting-started/running-rubinius/">Running Rubinius</a> </li>
          <li><a href="/doc/en/getting-started/troubleshooting/">Troubleshooting</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/contributing/">Contributing</a>
        <ul>
          <li><a href="/doc/en/contributing/communication/">Communication</a> </li>
          <li><a href="/doc/en/contributing/style-guide">Style Guide</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/ruby/">Ruby</a>
        <ul>
          <li><a href="/doc/en/ruby/scripts/">Scripts</a> </li>
          <li><a href="/doc/en/ruby/methods/">Methods</a> </li>
          <li><a href="/doc/en/ruby/constants/">Constants</a> </li>
          <li><a href="/doc/en/ruby/classes-and-modules/">Classes &amp; Modules</a> </li>
          <li><a href="/doc/en/ruby/blocks-and-procs/">Blocks &amp; Procs</a> </li>
          <li><a href="/doc/en/ruby/local-variables/">Local Variables</a> </li>
          <li><a href="/doc/en/ruby/instance-variables/">Instance Variables</a> </li>
          <li><a href="/doc/en/ruby/class-variables/">Class Variables</a> </li>
          <li><a href="/doc/en/ruby/global-variables/">Global Variables</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/specs/">Specs</a>
        <ul>
          <li><a href="/doc/en/specs/rubyspec/">RubySpec</a> </li> 
          <li><a href="/doc/en/specs/compiler/">Compiler Specs</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/build-system/">Build System</a> </li>
      <li><a href="/doc/en/bootstrapping/">Bootstrapping</a> </li>
      <li><a href="/doc/en/virtual-machine/">Virtual Machine</a> 
        <ul>
          <li><a href="/doc/en/virtual-machine/instructions/">Instructions</a> </li>
          <li><a href="/doc/en/virtual-machine/custom-dispatch-logic/">Custom Dispatch Logic</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/bytecode-compiler/">Bytecode Compiler</a>
        <ul>
          <li><a href="/doc/en/bytecode-compiler/parser/">Parser Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/ast/">AST</a> </li>
          <li><a href="/doc/en/bytecode-compiler/generator/">Generator Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/encoder/">Encoder Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/packager/">Packager Stage</a> </li>
          <li><a href="/doc/en/bytecode-compiler/writer/">Writer Stage</a> </li>
          <li>Printers</li>
          <li><a href="/doc/en/bytecode-compiler/transformations/">Transformations</a> </li>
          <li><a href="/doc/en/bytecode-compiler/customization/">Customizing the Pipeline</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/jit/">JIT Compiler</a> </li>
      <li><a href="/doc/en/memory-system/">Memory system</a> 
        <ul>
          <li><a href="/doc/en/memory-system/object-layout/">Object layout</a> </li>
          <li><a href="/doc/en/memory-system/garbage-collector/">Garbage collector</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/systems/">Rubinius Systems</a>
        <ul>
          <li><a href="/doc/en/systems/primitives/">Primitives</a> </li>
          <li><a href="/doc/en/systems/ffi/">FFI</a> </li>
          <li><a href="/doc/en/systems/concurrency/">Concurrency</a> </li>
          <li><a href="/doc/en/systems/io/">IO</a> </li>
          <li><a href="/doc/en/systems/c-api/">C-API</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/tools/">Tools</a>
        <ul>
          <li><a href="/doc/en/tools/debugger/">Debugger</a> </li>
          <li><a href="/doc/en/tools/profiler/">Profiler</a> </li>
          <li><a href="/doc/en/tools/memory-analysis/">Memory Analysis</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/guides/">Guides</a>
        <ul>
          <li><a href="/doc/en/guides/migrating-from-mri-to-rubinius/">Migrating from MRI to Rubinius</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/how-to/">How-To</a>
        <ul>
          <li><a href="/doc/en/how-to/write-a-ticket/">Write a Ticket</a> </li>
          <li><a href="/doc/en/how-to/write-a-ruby-spec/">Write a Ruby Spec</a> </li>
          <li><a href="/doc/en/how-to/fix-a-failing-spec/">Fix a Failing Spec</a> </li>
          <li><a href="/doc/en/how-to/write-benchmarks/">Write Benchmarks</a> </li>
          <li><a href="/doc/en/how-to/write-a-blog-post/">Write a Blog Post</a> </li>
          <li><a href="/doc/en/how-to/write-documentation/">Write Documentation</a> </li>
          <li><a href="/doc/en/how-to/translate-documentation/">Translate Documentation</a> </li>
          <li><a href="/doc/en/how-to/commit-to-github/">Commit to Github</a> </li>
        </ul>
      </li>
      <li><a href="/doc/en/appendix-a-glossary/">Appendix A - Glossary</a> </li>
      <li><a href="/doc/en/appendix-b-reading-list/">Appendix B - Reading List</a> </li>
      <li><a href="/doc/en/index-of-terms/">Index of Terms</a> </li>
      <li><a href="/doc/en/frequently-asked-questions/">Frequently Asked Questions</a> </li>
    </ul>
  </div>

  <div class="sidebar-footer">
    <ul>
  
  
  
  <li><a href="/doc/de/bootstrapping/"
    
    >de</a></li>
  
  
  
  <li><a href="/doc/en/bootstrapping/"
    
    >en</a></li>
  
  
  
  <li><a href="/doc/es/bootstrapping/"
    
    class="current"
    
    >es</a></li>
  
  
  
  <li><a href="/doc/fr/bootstrapping/"
    
    >fr</a></li>
  
  
  
  <li><a href="/doc/it/bootstrapping/"
    
    >it</a></li>
  
  
  
  <li><a href="/doc/ja/bootstrapping/"
    
    >ja</a></li>
  
  
  
  <li><a href="/doc/pl/bootstrapping/"
    
    >pl</a></li>
  
  
  
  <li><a href="/doc/pt-br/bootstrapping/"
    
    >pt-br</a></li>
  
  
  
  <li><a href="/doc/ru/bootstrapping/"
    
    >ru</a></li>
  
</ul>

    <div class="social">
      <div class="icons">
        <a href="http://twitter.com/rubinius" class="twitter">@rubinius</a>
        <a href="http://github.com/rubinius" class="github">github</a>
      </div>
      <div class="version">
        <a href="https://github.com/rubinius/rubinius/releases/tag/v2.2.10">v2.2.10</a>
      </div>
    </div>
  </div>
</nav>


<div class="container documentation">
  <h2>Bootstrapping</h2>

  

  

    <p>Bootstrapping es el proceso de evolución de la funcionalidad del sistema
hasta que todo el código Ruby se puede ejecutar. Hay siete etapas en
el proceso de arranque:</p>

<ol>
<li><p> VM: La máquina virtual es capaz de cargar y ejecutar bytecode,
 enviar mensajes (por ej. buscar y ejecutar métodos), en esta
 etapa todas las funciones primitivas están disponibles, pero aún
 no se encuentran disponibles como métodos de Ruby.</p>

<p> La clase Class es configurada manualmente en esta estapa del proceso
 estableciendo su clase a sí misma (n. t. Class) y su superclase a
 Module. Además de Class y Module, se crean un par de clases base,
 incluyendo Object, Tuple, LookupTable, y MethodTable.</p>

<p> Ahora que las clases se pueden definir, al rededor de 35 clases
 inicializadas, se crean símbolos para los métodos esenciales
 :object_id, :call, :protected, etc), se definen las excepciones
 básicas, y se registran las instrucciones primitivas. Por último se conecta
 el sistema de IO. Además en esta etapa varios métodos
 fundamentales de Ruby son ligados a las instrucciones primitivas
 que los implementan.</p>

<p> En este punto hay bastante comportamiento definido como para empezar a
 cargar el resto del núcleo de ejecución que está completamente definido en
 ruby. Esto ha de ser hecho en varias etapas a medida que el lenguaje crece.</p></li>
<li><p> alpha: Se inicia la carga del código Ruby. Se obtiene la capacidad de abrir
 clases, módulos y definir métodos. Se implementa la funcionalidad mínima
 para soportar los métodos siguientes en kernel/alpha.rb:</p>

<p>   attr_reader :sym
   attr_writer :sym
   attr_accessor :sym
   private :sym
   protected :sym
   module_function :sym
   include mod</p>

<p> Además, es posible arrojar excepciones y hacer que el proceso que
 está corriendo termine. Esta etapa sienta las bases para las próximos dos
 etapas.</p></li>
<li><p> bootstrap: Esta etapa continúa agregando la funcionalidad mínima para
 poder cargar platform y common. Las funciones primitivas se añaden
 para la mayoría de las clases del núcleo.</p></li>
<li><p> platform: La FFI (interfaz para función externa) del sistema se
 implementa y las interfaces de los métodos para funciones
 específicas-de-la-plataforma se crean. Una vez establecido esto,
 se adjuntan las cosas específicas-de-la-plataforma, tales como punteros,
 el acceso a archivos, matemáticas, y comandos POSIX.</p></li>
<li><p> common: Se implementa la gran mayoría de las clases fundamentales
 de Ruby. Las clases fundamentales de Ruby se mantienen lo
 más neutral posible de la implementación. Además, se agrega
 la mayoría la funcionalidad para las clases específicas de Rubinius.</p></li>
<li><p> delta: Se agregan las versiones finales de los métodos como #attr_reader.
 Por otra parte, se agregan versiones específicas-de-la-implementación
 de los métodos que sobreescriben las versiones provistas en common.</p></li>
<li><p> loader: La versión compilada de kernel/loader.rb se ejecuta.</p>

<p> La etapa final configura el ciclo de vida de un proceso de Ruby.
 Comienza por conectar la máquina virtual al sistema, crea rutas de carga,
 y lee las secuencias de personalización desde el directorio home.
 Atrapa señales del sistema y procesa argumentos de la línea de comandos.</p>

<p> Después de eso, o se ejecuta el script que se le pasa desde la
 línea de comandos o se inicia el intérprete interactivo de Ruby. Cuando
 eso termina, se ejecuta cualquier bloque at_exit registrado, finaliza
 todos los objetos, y termina la ejecución.</p></li>
</ol>


<h2>Orden de Carga</h2>

<p>Los archivos en el directorio kernel, bootstrap, platform, common, and delta,
implementan las etapas de carga respectivamente descritas arriba. El orden
en el cual estos directorios son cargados está especificado en runtime/index.</p>

<p>Cuando un archivo rbc se carga, el código a nivel de script y
en el cuerpo de clases y módulos, se ejecuta. Por ejemplo, cuando se carga</p>

<pre><code>class SomeClass
  attr_accessor :value
end
</code></pre>

<p>la llamada a #attr_accessor se va a ejecutar. Esto require que cualquier
código llamado en los cuerpos de scripts, clases o módulos sea cargado
antes del archivo que llama al código.
kernel/alpha.rb define la mayor parte del código que será necesario a nivel
de script o módulo. Sin embargo, otras dependencias de orden de carga
existen entre algunos de los archivos de platform, common, delta, y los archivos del compilador.</p>

<p>Estas dependencias de orden de carga se abordan en el archivo
load_order.txt ubicado en cada uno de los directorios kernel/** . Si modifica
código que añade una dependencia al orden de carga, debe editar los archivos
load_order.txt para colocar el archivo arriba del archivo que depende
de él. Además, si se agrega un nuevo archivo a uno de los directorios
del kernel, debe agregar el nombre del archivo al archivo load_order.txt en
ese directorio. Estos archivos se copian a los directorios runtime/** durante
la construcción. Durante cada una de las etapas de arranque anteriores, la máquina
virtual carga los archivos enumerados dentro de load_order.txt en orden.</p>


</div>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="/javascripts/jquery-1.3.2.js"></script>
    <script src="/javascripts/paging_keys.js"></script>
    
    <script src="/javascripts/application.js"></script>
  </body>
</html>
